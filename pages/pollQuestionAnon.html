<!DOCTYPE html>
<html>

<head>

<title>Anon Poll</title>

<style type="text/css">
    #flot-placeholder{width:600px;height:350px;}
</style>

<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../vendors/bootstrap-4.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" href="../css/testrun.css">-->
<!--Flot Chart JS-->
<script type="text/javascript" src="http://www.pureexample.com/js/lib/jquery-1.8.3.min.js"></script>
<script type="text/javascript" src="http://www.pureexample.com/js/flot/jquery.flot.min.js"></script>

<script src="../js/testrun.js"></script>
<!--Flot Chart Data JS-->

<script type="text/javascript">
    function flotchart()
    {
    	//get results from jQuery
    	var resultsA = 13;
    	var resultsB = 12;
    	var resultsC = 11;
        //******* 2012 Average Temperature - BAR CHART
        var data = [[0, resultsA]];
        var data1 = [[1, resultsB]];
        var data2 = [[2, resultsC]];
        var dataset = [{ label: "A", data: data, color: "#5482FF" }, {label: "B", data: data1, color: "red"}, {label: "C", data: data2, color: "orange"}];
        var ticks = [[0, "A"], [1, "B"], [2, "C"]];
        var options = {
            series: {
                bars: {
                    show: true
                }
            },
            bars: {
                align: "center",
                barWidth: 0.5,
            },
            xaxis: {
                axisLabel: "World Cities",
                axisLabelUseCanvas: true,
                axisLabelFontSizePixels: 12,
                axisLabelFontFamily: 'Verdana, Arial',
                axisLabelPadding: 10,
                ticks: ticks
            },
            yaxis: {
                axisLabel: "Average Temperature",
                axisLabelUseCanvas: true,
                axisLabelFontSizePixels: 12,
                axisLabelFontFamily: 'Verdana, Arial',
                axisLabelPadding: 10,
                tickFormatter: function (v, axis) {
                    return v;
                }
            },
            legend: {
                noColumns: 0,
                labelBoxBorderColor: "#000000",
                position: "nw"
            },
            grid: {
                hoverable: true,
                borderWidth: 2,
                backgroundColor: { colors: ["#ffffff", "#EDF5FF"] }
            }
        };

        $(document).ready(function () {
            $.plot($("#flot-placeholder"), dataset, options);
            $("#flot-placeholder").UseTooltip();
        });

        function gd(year, month, day) {
            return new Date(year, month, day).getTime();
        }

        var previousPoint = null, previousLabel = null;

        $.fn.UseTooltip = function () {
            $(this).bind("plothover", function (event, pos, item) {
                if (item) {
                    if ((previousLabel != item.series.label) || (previousPoint != item.dataIndex)) {
                        previousPoint = item.dataIndex;
                        previousLabel = item.series.label;
                        $("#tooltip").remove();

                        var x = item.datapoint[0];
                        var y = item.datapoint[1];

                        var color = item.series.color;

                        //console.log(item.series.xaxis.ticks[x].label);

                        showTooltip(item.pageX,
                        item.pageY,
                        color,
                        "<strong>" + item.series.label + "</strong><br>" + item.series.xaxis.ticks[x].label + " : <strong>" + y + "</strong> Â°C");
                    }
                } else {
                    $("#tooltip").remove();
                    previousPoint = null;
                }
            });
        };

        function showTooltip(x, y, color, contents) {
            $('<div id="tooltip">' + contents + '</div>').css({
                position: 'absolute',
                display: 'none',
                top: y - 40,
                left: x - 120,
                border: '2px solid ' + color,
                padding: '3px',
                'font-size': '9px',
                'border-radius': '5px',
                'background-color': '#fff',
                'font-family': 'Verdana, Arial, Helvetica, Tahoma, sans-serif',
                opacity: 0.9
            }).appendTo("body").fadeIn(200);
        }
    }
    </script>

    <script type="text/javascript">
    	function disableButton()
    	{
    		$(this).toggleClass('btn btn-outline-danger');
    	}
    </script>
</head>

<body style="background-color: #efefef;">
<div class="card" style="width: 100%; margin-left: .5%;margin-top: 5%;">
  <!--<img class="card-img-top" src="..." alt="Card image cap">-->
  <div class="card-body" style="background-color: #efefef;">
    <h5 class="card-title">Question </h5>
    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </div>
  <!--<ul class="btn-group-vertical btn-block center-block" style="width: 104%; margin-left: -5%">-->
    <ul class="list-group list-group-flush" style="width: 99%;">
    <button type="button" class="btn btn-primary btn-lg btn-block">A</button>
    <button type="button" class="btn btn-primary btn-lg btn-block">B</button>
    <button type="button" class="btn btn-primary btn-lg btn-block">C</button>
  </ul>
  <div><!--class="card-body"-->
    <br>
    <button type="button" class="btn btn-outline-success" onclick="disableButton()">Submit</button>
    <button type="button" class="btn btn-outline-info" onclick="flotchart()">Results</button>
  </div>
  <!--garbage div to provide space between (submit/result) buttons and flotchart-->
  <div>
    <br>
</div>
    <div id="flot-placeholder">
    	<!--Div placeholder for flot-chart results-->
    </div>

</div>

</body>
</html>
